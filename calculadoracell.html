<!DOCTYPE html>
<html lang="pt_BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');

:root {
    --primary-color: rgb(17, 86, 102);
    --primary-color-darker: rgb(9, 48, 56);
}

* {
    box-sizing: border-box;
    outline: 0;
}

body {
    margin: 0;
    padding: 0;
    background: var(--primary-color);
    font-family: 'Open sans', sans-serif;
    line-height: 1.5em;
}

.container {
    max-width: 640px;
    margin: 50px auto;
    background: #fff;
    padding: 20px;
    border-radius: 20px;
}

form input, form label, form button {
    display: block;
    width:100%;
    margin-bottom: 10px;
}

form input{
    font-size: 24px;
    height: 50px;
    padding: 0 20px;
}

form input:focus {
    outline: 1px solid var(--primary-color);
}

form button {
    border: none;
    background: var(--primary-color);
    color: #fff;
    font-size: 18px;
    font-weight: 700;
    height: 50px;
    cursor: pointer;
    margin-top: 30px;
}

form button:hover {
    background: var(--primary-color-darker);
}

.calculadora{
    width: 400px;
}

.display {
    font-size: 2em;
    width: 100%;
    text-align: right;
}

.btn {
    width: 100%;
    height: 50px;
    font-size: 1em;
    border: none;
    background: #dfdfdf;
    cursor: pointer;
}

.btn:hover{
    background: #9e9e9e;
}

@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');

:root {
    --primary-color: rgb(17, 86, 102);
    --primary-color-darker: rgb(9, 48, 56);
}

* {
    box-sizing: border-box;
    outline: 0;
}

body {
    margin: 0;
    padding: 0;
    background: var(--primary-color);
    font-family: 'Open sans', sans-serif;
    line-height: 1.5em;
}

.container {
    max-width: 640px;
    margin: 50px auto;
    background: #fff;
    padding: 20px;
    border-radius: 20px;
}

/* Estilo responsivo para telas menores */
@media (max-width: 600px) {
    .container {
        margin: 20px 10px;
        padding: 15px;
        text-align: center;
    }

    form input, form label, form button {
        font-size: 20px;
    }

    form input {
        height: 40px;
    }

    form button {
        font-size: 16px;
        height: 45px;
    }

    .calculadora {
        width: 100%;
    }

    .display {
        font-size: 1.5em;
    }

    .btn {
        height: 40px;
        font-size: 0.9em;
    }
}

form input, form label, form button {
    display: block;
    width: 100%;
    margin-bottom: 10px;
}

form input {
    font-size: 24px;
    height: 50px;
    padding: 0 20px;
}

form input:focus {
    outline: 1px solid var(--primary-color);
}

form button {
    border: none;
    background: var(--primary-color);
    color: #fff;
    font-size: 18px;
    font-weight: 700;
    height: 50px;
    cursor: pointer;
    margin-top: 30px;
}

form button:hover {
    background: var(--primary-color-darker);
}

.calculadora {
    width: 90%;
    margin: 0 auto;
}

.display {
    font-size: 2em;
    width: 100%;
    text-align: right;
    margin-bottom: 10px;
}

.btn {
    width: 100%;
    height: 50px;
    font-size: 1em;
    border: none;
    background: #dfdfdf;
    cursor: pointer;
}

.btn:hover {
    background: #9e9e9e;
}

    </style>
    <title>Document</title>
</head>

<body>

    <section class="container">
        <h1>Calculadora</h1>

        <table class="calculadora">
            <tr>
                <td colspan="4"><input type="text" class="display"></td>
            </tr>

            <tr>
                <td><button class="btn btn-clear">C</button></td>
                <td><button class="btn btn-num">(</button></td>
                <td><button class="btn btn-num">)</button></td>
                <td><button class="btn btn-num">/</button></td>
            </tr>

            <tr>
                <td><button class="btn btn-num">7</button></td>
                <td><button class="btn btn-num">8</button></td>
                <td><button class="btn btn-num">9</button></td>
                <td><button class="btn btn-num">*</button></td>
            </tr>

            <tr>
                <td><button class="btn btn-num">4</button></td>
                <td><button class="btn btn-num">5</button></td>
                <td><button class="btn btn-num">6</button></td>
                <td><button class="btn btn-num">+</button></td>
            </tr>

            <tr>
                <td><button class="btn btn-num">1</button></td>
                <td><button class="btn btn-num">2</button></td>
                <td><button class="btn btn-num">3</button></td>
                <td><button class="btn btn-num">-</button></td>
            </tr>

            <tr>
                <td><button class="btn btn-num">.</button></td>
                <td><button class="btn btn-num">0</button></td>
                <td><button class="btn btn-del">&laquo;</button></td>
                <td><button class="btn btn-eq">=</button></td>
            </tr>

        </table>
    </section>
  
    <script>
        function criaCalculadora() {
            return {
                display: document.querySelector('.display'),
        
                inicia() {
                    this.cliqueBotoes();
                    this.pressionaEnter();
                },
        
                pressionaEnter(){
                    this.display.addEventListener('keyup', e => {
                        if (e.keyCode === 13) {
                            this.realizaConta();
                        }       
                    });
                },
        
                pressionaDel(){
                    this.display.addEventListener('keyup', e => {
                        if (e.keyCode === 8) {
                            this.apagaUm();
                        }
                    });
                },
        
                realizaConta(){
                    let conta = this.display.value;
        
                    try {
                        conta = eval(conta);
        
                        if(!conta) {
                            alert('conta inválida');
                            return;
                        }
        
                        this.display.value = String(conta);
                    } catch(e){
                        alert('conta inválida');
                        return;
                    }
                },
        
                clearDisplay() {
                    this.display.value = '';
                },
                
                apagaUm(){
                    this.display.value = this.display.value.slice(0, -1);
                },
                
                cliqueBotoes() {
                    document.addEventListener('click', e => {
                      const el = e.target;
               
                      if(el.classList.contains('btn-num')) {
                        this.btnParaDisplay(el.innerText);
                      }
               
                      if(el.classList.contains('btn-clear')) {
                        this.clearDisplay();
                      }
               
                      if(el.classList.contains('btn-del')) {
                        this.apagaUm();
                      }
               
                      if(el.classList.contains('btn-eq')) {
                        this.realizaConta();
                      }
                      
                      // AQUI O FIX
                      this.display.focus();
                    });
                  },
        
                btnParaDisplay(valor) {
                    this.display.value += valor;
                }
        
            };
        }
        
        const calculadora = criaCalculadora();
        calculadora.inicia();
    </script>

</body>

</html>